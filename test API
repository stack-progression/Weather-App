
// version 1.1


// import React, { useContext } from "react";
// import { AppContext } from "./context/AppContext";

// const App = () => {
//   const { location, weather, getDay, getHour, setLocation, value, setValue } =
//     useContext(AppContext);

//   console.log(location);
//   console.log(weather);

//   if (!weather) return <div>Loading...</div>;

//   return (
//     <div>
//       <h1>{weather.location.name}</h1>

//       <p>{weather?.current?.temp_c}°</p>

//       <p>
//         {weather?.forecast?.forecastday[0]?.day?.maxtemp_c}° /{" "}
//         {weather?.forecast?.forecastday[0]?.day?.mintemp_c}° Se simte ca{" "}
//         {weather?.forecast?.forecastday[0]?.day?.avgtemp_c}°
//       </p>

//       <input
//         type="text"
//         defaultValue={location}
//         onChange={(e) => setValue(e.target.value)}
//       />
//       <button type="submit" onClick={() => setLocation(value)}></button>

//       {weather?.forecast?.forecastday[0]?.hour?.map((hour, index) => {
//         return (
//           <div key={index}>
//             <p>{getHour(hour.time_epoch)}</p>
//             <img src={hour.condition.icon} alt="" />
//             <p>grade: {hour.temp_c}°</p>
//             <p>umiditate: {hour.humidity}%</p>
//           </div>
//         );
//       })}

//       <p>urmatoarele zile</p>
//       {weather?.forecast?.forecastday?.map((day, index) => {
//         return (
//           <div key={index}>
//             <div>
//               <p>{getDay(day.date_epoch)}</p>
//             </div>
//             <p>Sanse de ploaie {day.day.daily_chance_of_rain}%</p>
//             <img src={day.day.condition.icon} alt="" />
//             <p>maxtemp_c: {day.day.maxtemp_c}°</p>
//             <p>mintemp_c: {day.day.mintemp_c}°</p>
//           </div>
//         );
//       })}
//     </div>
//   );
// };

// export default App;




// import React, { useEffect, useState } from "react";

// const App = () => {
//   const [location, setLocation] = useState("bucuresti");
//   const [weather, setWeather] = useState();

//   useEffect(() => {
//     const fetchData = async () => {
//       try {
//         const res = await fetch(
//           `https://api.weatherapi.com/v1/forecast.json?key=d7a21304535c41b7a07211753252712&q=${location}i&days=14&aqi=yes&alerts=yes`
//         );
//         if (!res.ok) {
//           throw new Error("Error in response");
//         }
//         const data = await res.json();
//         setWeather(data);
//         console.log(data);
//       } catch (error) {
//         console.error(error);
//       }
//     };
//     fetchData();
//   }, [location]);

//   return (
//     <div>
//       <h1>Weather App</h1>
//       <input
//         type="text"
//         value={location}
//         onChange={(e) => setLocation(e.target.value)}
//       />
//       <button onClick={() => setLocation(location)}>search</button>
//       {weather ? (
//         <div>
//           <p>Temperatura: {weather.current.temp_c}</p>
//           {weather.forecast.forecastday.map((t, index) => {
//             return(
//               <div key={index}>
//                 <p>temperatura maxima este: {t.day.maxtemp_c}</p>
//               </div>
//             )
//           })}
//           <img src={weather.forecast.forecastday[0].day.condition.icon} alt="" />
//         </div>
//       ) : (
//         <p>Se incarca...</p>
//       )}
//     </div>
//   );
// };

// export default App;



// version 1



// import React, { useContext } from "react";
// import { AppContext } from "./context/AppContext";

// const App = () => {
//   const { location, weather, getDay, getHour, getTempHour } =
//     useContext(AppContext);

//   console.log(location);
//   console.log(weather);

//   if (!weather) return <div>Loading...</div>;

//   return (
//     <div>
//       <h1>{weather.location.name}</h1>

//       <p>
//         {
//           weather?.forecast?.forecastday[0]?.hour[
//             getTempHour(weather?.forecast?.forecastday[0]?.hour[0]?.time_epoch)
//           ]?.temp_c
//         }
//       </p>

//       <p>
//         {weather?.forecast?.forecastday[0]?.day?.maxtemp_c}° /{" "}
//         {weather?.forecast?.forecastday[0]?.day?.mintemp_c}° Se simte ca{" "}
//         {weather?.forecast?.forecastday[0]?.day?.avgtemp_c}°
//       </p>

//       {weather?.forecast?.forecastday[0]?.hour?.map((hour, index) => {
//         return (
//           <div key={index}>
//             <p>{getHour(hour.time_epoch)}</p>
//             <img src={hour.condition.icon} alt="" />
//             <p>grade: {hour.temp_c}°</p>
//             <p>umiditate: {hour.humidity}%</p>
//           </div>
//         );
//       })}

//       <p>urmatoarele zile</p>
//       {weather?.forecast?.forecastday?.map((day, index) => {
//         return (
//           <div key={index}>
//             <div>
//               <p>{getDay(day.date_epoch)}</p>
//             </div>
//             <p>Sanse de ploaie {day.day.daily_chance_of_rain}%</p>
//             <img src={day.day.condition.icon} alt="" />
//             <p>maxtemp_c: {day.day.maxtemp_c}°</p>
//             <p>mintemp_c: {day.day.mintemp_c}°</p>
//           </div>
//         );
//       })}
//     </div>
//   );
// };

// export default App;




// version 2




// import React, { useEffect, useState } from "react";

// const App = () => {
//   const [location, setLocation] = useState("bucuresti");
//   const [weather, setWeather] = useState();

//   useEffect(() => {
//     const fetchData = async () => {
//       try {
//         const res = await fetch(
//           `https://api.weatherapi.com/v1/forecast.json?key=d7a21304535c41b7a07211753252712&q=${location}i&days=14&aqi=yes&alerts=yes`
//         );
//         if (!res.ok) {
//           throw new Error("Error in response");
//         }
//         const data = await res.json();
//         setWeather(data);
//         console.log(data);
//       } catch (error) {
//         console.error(error);
//       }
//     };
//     fetchData();
//   }, [location]);

//   return (
//     <div>
//       <h1>Weather App</h1>
//       <input
//         type="text"
//         value={location}
//         onChange={(e) => setLocation(e.target.value)}
//       />
//       <button onClick={() => setLocation(location)}>search</button>
//       {weather ? (
//         <div>
//           <p>Temperatura: {weather.current.temp_c}</p>
//           {weather.forecast.forecastday.map((t, index) => {
//             return(
//               <div key={index}>
//                 <p>temperatura maxima este: {t.day.maxtemp_c}</p>
//               </div>
//             )
//           })}
//         </div>
//       ) : (
//         <p>Se incarca...</p>
//       )}
//     </div>
//   );
// };

// export default App;
